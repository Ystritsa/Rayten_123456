- type: entity
  parent: BaseMobArchon
  id: MobArchonPlagueDoctor049
  name: чумной доктор
  description: Гуманоидное существо ростом около 190 см, внешне схожее со средневековым чумным доктором.
  components:
  - type: Sprite
    drawdepth: Mobs
    sprite: Vanilla/Mobs/Archons/PlagueDoctor.rsi
    layers:
    - map: ["enum.DamageStateVisualLayers.Base"]
      state: base
    - map: ["enum.DamageStateVisualLayers.BaseUnshaded"]
      state: rage-unlit
      visible: false
      shader: unshaded
  - type: Appearance
  - type: GenericVisualizer
    visuals:
      enum.DamageVisualizerKeys.DamageUpdateGroups:
        enum.DamageStateVisualLayers.Base:
          Safe: { visible: true}
          Rage: { visible: true }
          Raging: { visible: false }
        enum.DamageStateVisualLayers.BaseUnshaded:
          Safe: { visible: false, state: rage-unlit }
          Rage: { visible: true, state: rage-unlit }
          Raging: { visible: true, state: rage_animation }
  - type: Archon
    pointsModifier: 0.5
  - type: GhostTakeoverAvailable
  - type: GhostRole
    name: ghost-role-information-plague-doctor-name
    description: ghost-role-information-plague-doctor-description
    rules: ghost-role-information-plague-doctor-rules
    mindRoles:
    - MindRolePlagueDoctor
    raffle:
      settings: default
  - type: Puller
    needsHands: false
  - type: PlagueDoctor
  - type: BlindPredator
    canSeeOthers: true
  - type: Reflect
  - type: CombatMode
    canDisarm: true
  - type: Prying
    pryPowered: true
    speedModifier: 0.45
  - type: MeleeWeapon
    altDisarm: true
    attackRate: 0.6
    animation: WeaponArcDisarm
    damage:
      types:
        Blunt: 5
        Cold: 5
        Structural: 15
  - type: NpcFactionMember
    factions:
    - SimpleHostile
    - Zombie
  - type: MovementSpeedModifier
    baseSprintSpeed: 4.1
  - type: Damageable
    damageModifierSet: PlagueDoctor
  - type: MobThresholds
    thresholds:
      0: Alive
      700: Dead
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 700
      behaviors:
      - !type:GibBehavior
        recursive: false
      - !type:SpawnEntitiesBehavior
        spawn:
          MaterialParaxit1:
            min: 1
            max: 5
  - type: SlowOnDamage
    speedModifierThresholds:
      300: 0.7
      400: 0.5
      600: 0.3
  - type: PassiveDamage
    damageCap: 700
    allowedStates:
    - Alive
    - Critical
    damage:
      groups:
        Brute: -2.5
        Burn: -2.5
        Toxin: -2.5
        Genetic: -0.5
        Airloss: -3.75
  - type: VoiceEmitter
    voice: PlagueDoctor
  - type: Emoting
  - type: Speech
    allowedEmotes: ['PlagueDoctorSalute', 'PlagueDoctorSing']
  - type: Vocal
    sounds:
      Male: UnisexPlagueDoctor
      Female: UnisexPlagueDoctor
      Unsexed: UnisexPlagueDoctor
  - type: AmbientSound
    volume: 0
    range: 10
    sound:
      path: /Audio/Vanilla/Ambience/049/SaveMeFrom.ogg
  - type: FootstepModifier
    footstepSoundCollection:
      collection: Footsteps049
      params:
        volume: -8
  - type: Tag
    tags:
    - DoorBumpOpener
    - CannotSuicide
    - FootstepSound
    - DisableEmotes

# Веса различных исходов хирургических операций
- type: weightedRandom
  id: 049SurgeryResults
  weights:
    Zombify: 4
    Rejuvenate: 2
    Ignite: 1
    Gib: 1
    Cluwnefy: 0.1
