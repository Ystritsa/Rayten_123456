- type: entity
  parent: ClothingEyesBase
  id: ClothingEyesThermalGlassesBase
  abstract: true
  name: термальные очки
  description: Пара сложных очков с наложенной матрицей сенсоров, способной регистрировать тепловое излучение в пределах видимого спектра. Линзы мерцают слабым красноватым свечением.
  components:
  - type: ToggleClothing
    action: ActionToggleThermalVision
    mustEquip: true
    disableOnUnequip: true
  - type: ItemToggle
    onUse: false
    onActivate: false
    predictable: false
    soundActivate:
      path: /Audio/Vanilla/Effects/Actions/thermalvisionon.ogg
    soundDeactivate:
      path: /Audio/Vanilla/Effects/Actions/nightvisionoff.ogg
      params:
        volume: -5
        maxDistance: 5
    soundFailToActivate:
      path: /Audio/Machines/button.ogg
  - type: ComponentToggler
    components:
    - type: ThermalVisionOverlay
    - type: EyeProtection
    - type: FlashImmunity
  - type: PowerCellSlot
    cellSlotId: cell_slot
  - type: ContainerContainer
    containers:
      cell_slot: !type:ContainerSlot
  - type: ItemSlots
    slots:
      cell_slot:
        name: power-cell-slot-component-slot-name-default
  - type: PowerCellDraw
    drawRate: 2
    useCharge: 20
  - type: ToggleCellDraw
  - type: IdentityBlocker
    coverage: EYES
  - type: Tag
    tags:
    - ThermalGlasses
    - PetWearable
    - WhitelistChameleon

- type: entity
  parent: [ ClothingEyesThermalGlassesBase, FirstEngineeringContraband ]
  id: ClothingEyesThermalGlassesSyndie
  suffix: Термалы
  name: инженерные очки
  description: Очки с зелёным затемнением, использующие патентованный полимер, обеспечивающие надёжную защиту глаз от всех видов повреждений.
  components:
  - type: Sprite
    sprite: Clothing/Eyes/Glasses/meson.rsi
  - type: Clothing
    sprite: Clothing/Eyes/Glasses/meson.rsi
  - type: ItemSlots
    slots:
      cell_slot:
        name: power-cell-slot-component-slot-name-default
        startingItem: PowerCellMedium
  - type: Tag
    tags:
    - ThermalGlasses
    - PetWearable

- type: entity
  parent: [ClothingEyesThermalGlassesBase, SecondSecurityContraband]
  id: ClothingEyesThermalGlassesEmpty
  name: термальные очки
  suffix: Пустой
  description: Пара сложных очков с наложенной матрицей сенсоров, способной регистрировать тепловое излучение в пределах видимого спектра. Линзы мерцают слабым красноватым свечением.
  components:
  - type: Sprite
    sprite: Vanilla/Clothing/Eyes/Hud/thermal_glasses.rsi
    layers:
      - state: icon
      - state: icon-on
        visible: true
        shader: unshaded
        map: [ "enum.ToggleableVisuals.Layer" ]
  - type: Appearance
  - type: Clothing
    sprite: Vanilla/Clothing/Eyes/Hud/thermal_glasses.rsi
    equippedPrefix: off
  - type: ToggleableVisuals
    spriteLayer: enum.ToggleableVisuals.Layer
    clothingVisuals:
      eyes:
      - state: on-equipped-EYES
        shader: unshaded
  - type: GenericVisualizer
    visuals:
      enum.ToggleableVisuals.Enabled:
        enum.ToggleableVisuals.Layer:
          True: {visible: true}
          False: {visible: false}
  - type: ItemToggleActiveSound
    activeSound:
      path: /Audio/Vanilla/Effects/Actions/nightvisionambient.ogg
      params:
        volume: -4
        maxDistance: 5


- type: entity
  parent: ClothingEyesThermalGlassesEmpty
  id: ClothingEyesThermalGlasses
  suffix: Заполнен
  components:
  - type: ItemSlots
    slots:
      cell_slot:
        name: power-cell-slot-component-slot-name-default
        startingItem: PowerCellSmall


- type: entity
  parent: ClothingEyesThermalGlassesEmpty
  id: ClothingEyesMedSecThermalGlasses
  name: термальные медико-охранные очки
  suffix: Пустой
  description: Настоящее произведение искусства. При включении активируют эфект очков охраны, медицинского визора и термальных очков.
  components:
  - type: Sprite
    sprite: Vanilla/Clothing/Eyes/Hud/med_sec_thermal_glasses.rsi
  - type: Clothing
    sprite: Vanilla/Clothing/Eyes/Hud/med_sec_thermal_glasses.rsi
  - type: ComponentToggler
    components:
    - type: ThermalVisionOverlay
    - type: EyeProtection
    - type: FlashImmunity
    #sechud
    - type: ShowJobIcons
    - type: ShowMindShieldIcons
    - type: ShowCriminalRecordIcons
    - type: ShowContrabandDetails
    - type: ShowCriminalLevelIcons
    #medhud
    - type: ShowHealthBars
    - type: ShowHealthIcons
    - type: ShowDominantDamageGroupIcon
  - type: Construction
    graph: MedSecThermalGlasses
    node: medsecthermalglasses


- type: entity
  parent: BaseAction
  id: ActionToggleThermalVision
  name: Активировать термальное зрение
  description: Активировать термальные сенсоры для слежения за тепловыми источниками.
  components:
  - type: Action
    useDelay: 5
    itemIconStyle: BigItem
  - type: InstantAction
    event: !type:ToggleActionEvent
